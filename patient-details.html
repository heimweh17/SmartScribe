<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UF Health SmartScribe - Patient Details</title>
  <link rel="stylesheet" href="css/patient-details.css"/>
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="brand">
        <div class="logo">UF</div>
        <div class="title">Health SmartScribe</div>
      </div>
      <div class="right">
        <span class="facility">UF Health Shands</span>
      </div>
    </header>

    <!-- Main Grid -->
    <div class="grid">
      <!-- Left Sidebar -->
      <aside class="sidebar">
        <!-- Patient Card -->
        <div class="patient-card">
          <div class="avatar">AK</div>
          <div class="patient-meta">
            <div class="name">Annalise Keating</div>
            <div class="mrn">MRN: 987654321</div>
          </div>
        </div>

        <!-- Collapsible Sections -->
        <div class="section">
          <button class="section-header" onclick="toggleSection('demo')">
            Patient Demographics
            <span class="chev">▾</span>
          </button>
          <div id="demo" class="section-body">
            <div class="row"><span class="label">DOB</span><span>08/21/1975</span></div>
            <div class="row"><span class="label">Chief Complaint</span><span class="accent">Annual Physical Exam</span></div>
            <div class="row"><span class="label">Primary Pharmacy</span><span class="warn">Not Specified *</span></div>
          </div>
        </div>

        <div class="section">
          <button class="section-header" onclick="toggleSection('vitals')">
            Vitals
            <span class="chev">▾</span>
          </button>
          <div id="vitals" class="section-body collapsed">
            <div class="row"><span class="label">BP</span><span>120/80 mmHg</span></div>
            <div class="row"><span class="label">HR</span><span>72 bpm</span></div>
            <div class="row"><span class="label">Temp</span><span>98.6°F</span></div>
            <div class="row"><span class="label">O₂ Sat</span><span>98%</span></div>
          </div>
        </div>

        <div class="section">
          <button class="section-header" onclick="toggleSection('allergy')">
            Allergies & Medications
            <span class="chev">▾</span>
          </button>
          <div id="allergy" class="section-body collapsed">
            <div class="row"><span class="label">Allergies</span><span>None noted</span></div>
            <div class="row"><span class="label">Current Meds</span><span>Lisinopril 10 mg daily</span></div>
          </div>
        </div>

        <div class="section">
          <button class="section-header" onclick="toggleSection('history')">
            Medical History
            <span class="chev">▾</span>
          </button>
          <div id="history" class="section-body collapsed">
            <div class="row"><span class="label">Conditions</span><span>Hypertension, Type II Diabetes</span></div>
            <div class="row"><span class="label">Last Visit</span><span>03/15/2024</span></div>
          </div>
        </div>

        <!-- Quick Notes -->
        <div class="notes">
          <div class="notes-title">Quick Notes</div>
          <textarea id="quick-notes" placeholder="Add quick notes or reminders..."></textarea>
          <div class="chips">
            <button class="chip" onclick="addChip('Follow-up')">Follow-up</button>
            <button class="chip" onclick="addChip('Referral')">Referral</button>
            <button class="chip" onclick="addChip('Prescription')">Prescription</button>
          </div>
        </div>
      </aside>

      <!-- Center Panel: Form -->
      <main class="main">
        <div class="panel">
          <div class="panel-title">Clinical Documentation Assistant</div>
          <div class="panel-subtitle">Powered by NaviGator AI</div>

          <form id="doc-form" onsubmit="generateSOAP(event)">
            <div class="form-row">
              <label for="chief">Chief Complaint</label>
              <select id="chief" onchange="updateDynamic()">
                <option value="">Select complaint...</option>
                <option value="chest-pain">Chest Pain</option>
                <option value="headache">Headache</option>
                <option value="fever">Fever</option>
                <option value="physical">Annual Physical</option>
                <option value="diabetes">Diabetes Follow-up</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-row">
              <label for="hpi">History of Present Illness</label>
              <textarea id="hpi" rows="4" placeholder="Describe the patient's symptoms, onset, duration, context..."></textarea>
            </div>

            <div id="dynamic" class="dynamic">
              <!-- Dynamic fields injected by JS -->
            </div>

            <div class="form-row">
              <label for="assessment">Assessment & Diagnosis</label>
              <input id="assessment" type="text" placeholder="Primary diagnosis (free text for now)"/>
            </div>

            <div class="form-row">
              <label for="plan">Plan</label>
              <textarea id="plan" rows="4" placeholder="Treatment plan, medications, labs, follow-up..."></textarea>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn primary">Generate SOAP</button>
              <button type="button" class="btn ghost" onclick="clearForm()">Clear</button>
            </div>
          </form>
        </div>

        <!-- Smart Alert -->
        <div class="smart">
          <div class="smart-icon">ℹ️</div>
          <div class="smart-body">
            <div class="smart-title">NaviGator Suggestion</div>
            <div class="smart-text">For diabetes follow-up, consider HbA1c and lipid panel if not done in last 3 months.</div>
            <div>
              <button class="btn accent" onclick="appendToPlan('Order HbA1c and lipid panel.')">Add to Plan</button>
              <button class="btn ghost">Dismiss</button>
            </div>
          </div>
        </div>
      </main>

      <!-- Right Sidebar: SOAP Preview -->
      <aside class="preview">
        <div class="panel-title">SOAP Preview</div>
        <div class="soap">
          <div class="soap-group">
            <div class="soap-label">Subjective</div>
            <div id="soap-subjective" class="soap-text">—</div>
          </div>
          <div class="soap-group">
            <div class="soap-label">Objective</div>
            <div id="soap-objective" class="soap-text">Vitals reviewed; exam to be documented.</div>
          </div>
          <div class="soap-group">
            <div class="soap-label">Assessment</div>
            <div id="soap-assessment" class="soap-text">—</div>
          </div>
          <div class="soap-group">
            <div class="soap-label">Plan</div>
            <div id="soap-plan" class="soap-text">—</div>
          </div>
        </div>

        <div class="preview-actions">
          <button class="btn secondary">Save Draft</button>
          <button class="btn secondary">Export</button>
          <button class="btn primary">Complete & Sign</button>
        </div>
      </aside>
    </div>
  </div>

  <script src="js/patient-details.js"></script>
</body>
</html>